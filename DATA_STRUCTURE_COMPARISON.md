# Data Structure Comparison: getquickresume vs Template Generator

## Overview
This document compares the `ResumeData` structure used in getquickresume with the `SampleData` structure expected by templates generated by the template generator app.

## Key Differences

### 1. Name Field
- **getquickresume**: `firstName: string` + `lastName: string` (separate fields)
- **Template Expected**: `name: string` (single combined field)
- **Conversion Needed**: ✅ `name = firstName + " " + lastName`

### 2. Title/Profession
- **getquickresume**: `profession: string`
- **Template Expected**: `title: string`
- **Conversion Needed**: ✅ `title = profession`

### 3. Contact Information
- **getquickresume**: Separate fields at root level:
  - `phone: string`
  - `email: string`
  - `linkedin: string`
  - `country: string`
- **Template Expected**: Nested `contact` object:
  ```typescript
  contact: {
    phone: string,
    email: string,
    website?: string,
    location: string
  }
  ```
- **Conversion Needed**: ✅ Combine into `contact` object
  - `contact.phone = phone`
  - `contact.email = email`
  - `contact.website = linkedin` (or empty if not available)
  - `contact.location = country` (or more detailed location if available)

### 4. Profile/Summary
- **getquickresume**: `summary: string`
- **Template Expected**: `profile: string`
- **Conversion Needed**: ✅ `profile = summary`

### 5. Skills
- **getquickresume**: `skillsRaw: string[]`
- **Template Expected**: `skills: string[]`
- **Conversion Needed**: ✅ `skills = skillsRaw` (direct mapping)

### 6. Experience
- **getquickresume**: `WorkExperience[]` with:
  ```typescript
  {
    id: string,
    title: string,
    company: string,
    startDate: string,
    endDate?: string,
    isCurrent: boolean,
    achievements: string[],
    responsibilities: string[],
    pageNumber: number | null
  }
  ```
- **Template Expected**: Array with:
  ```typescript
  {
    position: string,        // NOT "title"
    company: string,
    startDate: string,
    endDate: string,         // NOT optional, use "Present" if isCurrent
    description: string[]     // Combined achievements + responsibilities
  }
  ```
- **Conversion Needed**: ✅
  - `position = title`
  - `endDate = isCurrent ? "Present" : endDate`
  - `description = [...achievements, ...responsibilities]`

### 7. Projects
- **getquickresume**: `Project[]` with:
  ```typescript
  {
    id: string,
    name: string,
    description: string,
    technologies: string[],
    url?: string,
    startDate: string,
    endDate?: string,
    isOngoing: boolean,
    pageNumber: number | null
  }
  ```
- **Template Expected**: Array with:
  ```typescript
  {
    name: string,
    description: string
    // Note: templates may not use technologies, url, dates
  }
  ```
- **Conversion Needed**: ✅ Simplified mapping (templates may ignore extra fields)
  - `name = name`
  - `description = description`

### 8. Education
- **getquickresume**: `Education[]` with:
  ```typescript
  {
    id: string,
    institution: string,
    degree: string,
    field: string,
    startDate: string,
    endDate?: string,
    isCompleted: boolean,
    gpa?: string,
    pageNumber: number | null
  }
  ```
- **Template Expected**: Array with:
  ```typescript
  {
    institution: string,
    degree: string,
    startDate: string,
    endDate: string
    // Note: templates may not use field, gpa
  }
  ```
- **Conversion Needed**: ✅ Simplified mapping
  - `institution = institution`
  - `degree = degree`
  - `startDate = startDate`
  - `endDate = endDate || ""`

### 9. Languages
- **getquickresume**: `Language[]` with:
  ```typescript
  {
    id: string,
    name: string,
    level: 'basic' | 'intermediate' | 'advanced' | 'native',
    pageNumber: number | null
  }
  ```
- **Template Expected**: `string[]` (array of formatted strings)
- **Conversion Needed**: ✅ Format as strings
  - `languages = languages.map(lang => \`${lang.name} (${lang.level})\`)`

### 10. Achievements
- **getquickresume**: `Achievement[]` with:
  ```typescript
  {
    id: string,
    title: string,
    description: string,
    year: string,
    pageNumber: number | null
  }
  ```
- **Template Expected**: `string[]` (array of formatted strings)
- **Conversion Needed**: ✅ Format as strings
  - `achievements = achievements.map(ach => ach.description ? \`${ach.title}: ${ach.description}\` : ach.title)`

### 11. Certifications
- **getquickresume**: `Certification[]` with:
  ```typescript
  {
    id: string,
    name: string,
    issuer: string,
    date: string,
    credentialId?: string,
    url?: string,
    pageNumber: number | null
  }
  ```
- **Template Expected**: `string[]` (array of formatted strings)
- **Conversion Needed**: ✅ Format as strings
  - `certifications = certifications.map(cert => \`${cert.name} - ${cert.issuer} (${cert.date})\`)`

### 12. Pagination Fields
- **getquickresume**: Multiple `*PageNumber` fields at root level + `skillsPagination: SkillPageRange[]`
- **Template Expected**: 
  - `profilePageNumber?: number`
  - `skillsPageNumbers?: number[]` (array matching skills array)
  - `languagesPageNumbers?: number[]`
  - `achievementsPageNumbers?: number[]`
  - `certificationsPageNumbers?: number[]`
  - `pageNumber` property on experience/projects/education items
- **Conversion Needed**: ✅ Complex conversion required
  - Map root-level page numbers to template format
  - Convert `skillsPagination` ranges to `skillsPageNumbers` array
  - Map item-level `pageNumber` properties

## Required Changes in getquickresume

### 1. Create Data Conversion Utility
**File**: `src/utils/resumeDataToTemplateFormat.ts`

Create a function `convertResumeDataToTemplateFormat(resumeData: ResumeData)` that:
- Transforms `ResumeData` to the format expected by templates
- Handles all field mappings listed above
- Preserves pagination information in template format
- Returns an object matching the template's expected structure

### 2. Update WebComponentRenderer Usage
**Files**: 
- `src/components/wizard/Step9Preview.tsx`
- `src/components/wizard/TemplatePreviewModal.tsx`
- `src/components/wizard/Step10Final.tsx`

Before passing `resumeData` to `WebComponentRenderer`, convert it:
```typescript
const templateData = convertResumeDataToTemplateFormat(resumeData);
<WebComponentRenderer data={templateData} ... />
```

### 3. Update Mock Data Generator
**File**: `src/utils/mockResumeData.ts` (to be created)

When generating mock data for gallery previews, generate it in template format directly, or generate `ResumeData` and convert it.

## Summary

**Critical Changes Required:**
1. ✅ Create `convertResumeDataToTemplateFormat()` utility function
2. ✅ Update all `WebComponentRenderer` usages to convert data before passing
3. ✅ Handle pagination field conversions
4. ✅ Format arrays (languages, achievements, certifications) as strings

**Non-Critical (Templates May Ignore):**
- Project `technologies`, `url`, `startDate`, `endDate`
- Education `field`, `gpa`
- Certification `credentialId`, `url`

These fields can be included in the converted data, but templates may not use them.

